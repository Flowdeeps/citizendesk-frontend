"use strict";angular.module("citizenfrontApp",["ngRoute","ngResource","ngSails"]).config(["$routeProvider","$sailsProvider",function(a,b){a.when("/new-report",{templateUrl:"views/new-report.html",controller:"NewReportCtrl"}).when("/list-reports",{templateUrl:"views/list-reports.html",controller:"ReportListCtrl"}).when("/configure",{templateUrl:"views/configure.html",controller:"ConfigureCtrl"}).when("/configure-twitter-ingestion",{templateUrl:"views/configure-twitter-ingestion.html",controller:"ConfigureTwitterIngestionCtrl"}).when("/configure-twitter-ingestion-filters",{templateUrl:"views/configure-twitter-ingestion-filters.html",controller:"ConfigureTwitterIngestionFiltersCtrl"}).when("/configure-twitter-ingestion-oauths",{templateUrl:"views/configure-twitter-ingestion-oauths.html",controller:"ConfigureTwitterIngestionOauthsCtrl"}).when("/configure-twitter-ingestion-streams",{templateUrl:"views/configure-twitter-ingestion-streams.html",controller:"ConfigureTwitterIngestionStreamsCtrl"}).otherwise({redirectTo:"/list-reports"}),b.url="http://martin.sourcefabric.net:1337"}]),angular.module("citizenfrontApp").controller("MainCtrl",["$scope",function(a){a.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"]}]),angular.module("citizenfrontApp").controller("NewReportCtrl",["$scope","$sails","$log",function(a,b,c){a.content="",a.submit=function(){b.post("/reports",{texts:[a.content],created:(new Date).toISOString()},function(){c.debug("report posted")},function(){c.error("error posting report")})}}]),angular.module("citizenfrontApp").controller("ReportListCtrl",["$scope","$sails",function(a,b){b.get("/reports?limit=100&sort=created%20DESC").success(function(b){a.reports=b}),b.on("message",function(b){"create"===b.verb&&a.reports.unshift(b.data)})}]),angular.module("citizenfrontApp").controller("ConfigureCtrl",["$scope",function(a){a.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"]}]),angular.module("citizenfrontApp").controller("ConfigureTwitterIngestionCtrl",["$scope","$sails",function(){}]),angular.module("citizenfrontApp").controller("ConfigureTwitterIngestionFiltersCtrl",["$scope","$sails",function(a,b){b.get("/twt_filters").success(function(b){a.twtFilters=b})}]),angular.module("citizenfrontApp").controller("ConfigureTwitterIngestionOauthsCtrl",["$scope","$sails",function(a,b){b.get("/twt_oauths").success(function(b){a.twtOauths=b})}]),angular.module("citizenfrontApp").controller("ConfigureTwitterIngestionStreamsCtrl",["$scope","$sails",function(a,b){b.get("/twt_streams").success(function(b){a.twtStreams=b})}]);